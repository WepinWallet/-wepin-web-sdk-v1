function e(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}import{uuidv4 as t}from"@wepin/common";export var Widget=/*#__PURE__*/function(){var n,o;function s(e,n,o,r,a){!function(e,i){if(!(e instanceof i))throw TypeError("Cannot call a class as a function")}(this,s),i(this,"id",void 0),i(this,"url",void 0),i(this,"type",void 0),i(this,"isHide",void 0),i(this,"isWidgetReady",!1),i(this,"EL",void 0),i(this,"_open",void 0),this.url=e,this.id="id-".concat(t()),this.isHide=a,s._webview[this.id]=n,this.type=o,this.EL=r,window.addEventListener("message",this.EL),this._open=!0}return n=[{key:"isOpen",get:function(){return this._open}},{key:"close",value:function(){window.removeEventListener("message",this.EL),this._open=!1,this.isWidgetReady=!1,this._closeWebview()}},{key:"response",value:function(e){try{this._post(e)}catch(e){console.error("Can not response message to the webview",e)}}},{key:"request",value:function(e){try{this._post(e)}catch(e){console.error("Can not send message to the webview",e)}}}],o=[{key:"getWebview",value:function(e){return s._webview[e]}},{key:"clearWebview",value:function(e){delete s._webview[e]}},{key:"clearAllWebview",value:function(){this._webview={}}}],n&&e(s.prototype,n),o&&e(s,o),s}();i(Widget,"_webview",{});