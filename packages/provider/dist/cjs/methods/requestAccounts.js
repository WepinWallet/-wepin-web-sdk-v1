"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"requestAccounts",{enumerable:!0,get:function(){return n}});var e=require("eth-rpc-errors"),r=require("../utils/requestFactory.js"),t=require("../utils/selectedAddress.js"),n=function(n){var s=n.wepinProvider,d=n.network;return function(n,i,o,u){if(!s._isInitialized){u(e.ethErrors.provider.unauthorized());return}var l,a={network:d};null===(l=(0,t.getSelectedAddress)(s.wepinStorage,s.wepinAppId,d))||void 0===l||l.then(function(e){(null==e?void 0:e.address)?(window.evmproviders.Wepin.selectedAddress=null==e?void 0:e.address,i.result=[null==e?void 0:e.address],u()):(0,r.requestFactory)({wepinProvider:s,network:d,req:n,res:i,next:o,end:u,command:"request_enable",parameter:a})})}};