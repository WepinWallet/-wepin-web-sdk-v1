"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(exports,{getSelectedAddress:function(){return s},setSelectedAddress:function(){return a}});var e,r,t=require("../const/cookieName.js");function n(e,r,t,n,o,u,s){try{var a=e[u](s),i=a.value}catch(e){t(e);return}a.done?r(i):Promise.resolve(i).then(n,o)}function o(e){return function(){var r=this,t=arguments;return new Promise(function(o,u){var s=e.apply(r,t);function a(e){n(s,o,u,a,i,"next",e)}function i(e){n(s,o,u,a,i,"throw",e)}a(void 0)})}}function u(e,r){var t,n,o,u,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function a(u){return function(a){return function(u){if(t)throw TypeError("Generator is already executing.");for(;s;)try{if(t=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){s.label=u[1];break}if(6===u[0]&&s.label<o[1]){s.label=o[1],o=u;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(u);break}o[2]&&s.ops.pop(),s.trys.pop();continue}u=r.call(e,s)}catch(e){u=[6,e],n=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}var s=(e=o(function(e,r,n){var o,s;return u(this,function(u){switch(u.label){case 0:return[4,e.getLocalStorage(t.PROVIDER_COOKIE_NAME+r,"selectedAddress")];case 1:if(!(o=u.sent())||!(null==o?void 0:o.length))return[2,void 0];return[4,e.getLocalStorage(r,"user_id")];case 2:return s=u.sent(),[2,null==o?void 0:o.find(function(e){return e.network===n&&e.userId===s})]}})}),function(r,t,n){return e.apply(this,arguments)}),a=(r=o(function(e,r,n,o){var s,a,i;return u(this,function(u){switch(u.label){case 0:return[4,e.getLocalStorage(t.PROVIDER_COOKIE_NAME+r,"selectedAddress")];case 1:return s=u.sent(),[4,e.getLocalStorage(r,"user_id")];case 2:if(a=u.sent(),!(!s||!(null==s?void 0:s.length)))return[3,4];return[4,e.setLocalStorage(t.PROVIDER_COOKIE_NAME+r,"selectedAddress",[{userId:a,network:n,address:null==o?void 0:o.toLowerCase()}])];case 3:case 5:return u.sent(),[2];case 4:return -1!==(i=null==s?void 0:s.findIndex(function(e){return e.network===n&&e.userId===a}))?s[i].address=null==o?void 0:o.toLowerCase():s.push({userId:a,network:n,address:null==o?void 0:o.toLowerCase()}),[4,e.setLocalStorage(t.PROVIDER_COOKIE_NAME+r,"selectedAddress",s)]}})}),function(e,t,n,o){return r.apply(this,arguments)});