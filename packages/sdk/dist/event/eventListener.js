import e from"../utils/log";import{WebviewRequestHandler as r}from"./requestHandler";import{WebviewResponseHandler as t}from"./responseHandler";export var getEventListener=function(e,r){return function(t){(e.wepinWidget.url.includes("/wepin-sdk-login")||e.wepinWidget.url.includes(t.origin)||t.origin===e.wepinWidget.url)&&Object.prototype.hasOwnProperty.call(t.data,"header")&&Object.prototype.hasOwnProperty.call(t.data,"body")&&o(t.data,e,r)}};var o=function(o,n,i){"web"===o.header.request_to?r(o,n,i):"web"===o.header.response_to?t(o,n):e.error("Failed to handle message:",o)};