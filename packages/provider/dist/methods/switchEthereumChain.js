import{ethErrors as r}from"eth-rpc-errors";import{requestFactory as e}from"../utils/requestFactory";import{isValidChainId as t}from"../utils/utils";export var switchEthereumChain=function(n){var i=n.wepinProvider,a=n.network;return function(n,o,c,u){if(!i._isInitialized){u(r.provider.unauthorized());return}var l=Array.isArray(n.params)?n.params[0]:n.params;if(!(null==l?void 0:l.chainId)||!(null==l?void 0:l.chainId.startsWith("0x"))){u(r.rpc.invalidParams());return}if(!t(l.chainId))return u(r.rpc.invalidParams());var s=function(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.forEach(function(e){var n;n=t[e],e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n})}return r}({account:{network:a}},n.params[0]);e({wepinProvider:i,network:a,req:n,res:o,next:c,end:u,command:"wallet_switchEthereumChain",parameter:s})}};